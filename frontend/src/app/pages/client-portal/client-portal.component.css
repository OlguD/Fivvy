.client-portal {
  padding: 20px;
  max-width: 1100px;
  margin: 0 auto;
}

.portal-card {
  background: var(--surface-card);
  border-radius: 12px;
  /* use theme shadow so dark/light variants match */
  box-shadow: var(--surface-shadow);
  padding: 18px;
}

.portal-header { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px; }
.client-info h1 { margin:0; font-size:1.6rem; }
.client-sub { color: color-mix(in srgb, var(--app-text) 64%, transparent); font-size:0.95rem; }

.portal-body { display: grid; grid-template-columns: 320px 1fr; gap: 16px; }

.projects-panel { background:var(--surface-card); padding:12px; border-radius:8px; }
.project-card { border:1px solid var(--divider); padding:8px; border-radius:6px; margin-bottom:8px; background:var(--surface-card); }

.invoices-panel { padding: 8px 12px; }
.panel-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.panel-actions { display:flex; gap:10px; align-items:center; }
.loading-inline { color: color-mix(in srgb, var(--app-text) 56%, transparent); font-size:0.95rem; }
.error-inline { color: var(--field-error-text); font-size:0.95rem; }

.invoice-list { list-style:none; margin:0; padding:0; }
.invoice-row { display:flex; justify-content:space-between; align-items:center; padding:12px; border-bottom:1px solid var(--divider); cursor:pointer; }
.invoice-row:hover { background: color-mix(in srgb, var(--app-text) 3%, var(--surface-card)); }
.row-left .num { font-weight:700; }
.row-left .meta { color: color-mix(in srgb, var(--app-text) 64%, transparent); font-size:0.9rem; }
.row-right { display:flex; align-items:center; gap:8px; }
.amount { font-weight:700; color:var(--primary); }
.status { font-size:0.85rem; color: color-mix(in srgb, var(--app-text) 72%, transparent); background: color-mix(in srgb, var(--app-text) 6%, transparent); padding:6px 8px; border-radius:6px; }
.btn { padding:6px 10px; border-radius:6px; border:1px solid var(--divider); background:var(--surface-card); cursor:pointer; color: color-mix(in srgb, var(--app-text) 92%, transparent); }
.btn.primary { background:var(--primary); color: var(--btn-text); border:none; }
.btn[disabled] { opacity:0.6; cursor:not-allowed; }

.modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.45); }
.modal-content { position: relative; z-index: 2; background: var(--surface-card); padding: 24px; border-radius: 12px; width: 92%; max-width: 760px; box-shadow: var(--surface-shadow); }
.modal-content .close { position: absolute; right: 8px; top: 8px; border: none; background: transparent; font-size: 22px; cursor: pointer; }
.lines { width: 100%; border-collapse: collapse; margin-top: 12px; }
.lines th, .lines td { padding: 8px 6px; border-bottom: 1px solid var(--divider); text-align: left; }
.totals { display: flex; justify-content: flex-end; gap: 20px; margin-top: 12px; }
.totals .grand { font-weight: 700; }
.actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 14px; }

@media (max-width: 820px) {
  .portal-body { grid-template-columns: 1fr; }
  .project-card { margin-bottom: 10px; }
}

.invoice-card .header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.invoice-card .amount { font-weight: 600; margin-top: 8px; }

.modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.45); }
.modal-content { position: relative; z-index: 2; background: var(--surface-card); padding: 20px; border-radius: 8px; width: 90%; max-width: 720px; box-shadow: var(--surface-shadow); }
.modal-content .close { position: absolute; right: 8px; top: 8px; border: none; background: transparent; font-size: 22px; cursor: pointer; }

.lines { width: 100%; border-collapse: collapse; margin-top: 12px; }
.lines th, .lines td { padding: 8px 6px; border-bottom: 1px solid var(--divider); text-align: left; }

.totals { display: flex; justify-content: flex-end; gap: 20px; margin-top: 12px; }
.totals .grand { font-weight: 700; }

.actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 14px; }
.actions button { padding: 8px 12px; border-radius: 6px; border: 1px solid var(--divider); background: var(--surface-card); cursor: pointer; }

.loading, .error, .empty { margin-top: 12px; }

/* New layout styles */
.portal-header { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
.client-info h1 { margin:0; font-size:1.4rem; }
.client-sub { color: color-mix(in srgb, var(--app-text) 64%, transparent); font-size:0.95rem; }
.mini-link input { width:260px; padding:6px 8px; border-radius:6px; border:1px solid var(--divider); margin-right:8px; background: var(--field-bg); color: var(--field-text); }
.mini-link button { padding:6px 10px; border-radius:6px; border:none; background:var(--primary); color: var(--btn-text); }

.content-grid { display:grid; grid-template-columns: 300px 1fr; gap:16px; }
.projects-panel { background:var(--surface-card); padding:12px; border-radius:8px; }
.project-card { border:1px solid var(--divider); padding:8px; border-radius:6px; margin-bottom:8px; background:var(--surface-card); }
.proj-top { display:flex; justify-content:space-between; align-items:center; }
.proj-title { font-weight:600; }
.proj-price { color:var(--primary); }

.invoices-panel { background:transparent; }
.invoice-list { list-style:none; margin:0; padding:0; }
.invoice-row { display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid var(--divider); }
.row-left .num { font-weight:600; }
.row-left .meta { color: color-mix(in srgb, var(--app-text) 64%, transparent); font-size:0.9rem; }
.row-right { display:flex; align-items:center; gap:8px; }
.btn { padding:6px 10px; border-radius:6px; border:1px solid var(--divider); background:var(--surface-card); cursor:pointer; color: color-mix(in srgb, var(--app-text) 92%, transparent); }
.btn.primary { background:var(--primary); color: var(--btn-text); border:none; }

@media (max-width: 820px) {
  .content-grid { grid-template-columns: 1fr; }
  .mini-link input { width:150px; }
}
